<div class="container mx-auto overflow-x-auto rounded-2xl shadow-2xl bg-white mb-32 min-h-[70vh]">
  <table class="min-w-full divide-y divide-purple-100">
    <thead>
      <tr class="bg-gradient-to-r from-purple-200 to-purple-50 text-purple-800 uppercase text-xs tracking-wider">
        <th class="px-10 py-6 text-left rounded-tl-2xl border-b-2 border-purple-200"><%= t("events.list_component.name") %></th>
        <th class="px-10 py-6 text-left border-b-2 border-purple-200"><%= t("events.list_component.place") %></th>
        <th class="px-10 py-6 text-left border-b-2 border-purple-200"><%= t("events.list_component.date") %></th>
        <th class="px-10 py-6 text-left border-b-2 border-purple-200"><%= t("events.list_component.category") %></th>
        <th class="px-10 py-6 text-left border-b-2 border-purple-200"><%= t("events.list_component.status") %></th>
        <th class="px-10 py-6 text-left rounded-tr-2xl border-b-2 border-purple-200"><%= t("events.list_component.actions") %></th>
      </tr>
    </thead>
    <tbody class="divide-y divide-purple-50 text-base">
      <% events.each do |event| %>
        <tr id="event_<%= event.id %>" class="hover:bg-purple-50 transition group">
          <td class="px-10 py-6 font-semibold text-purple-900 group-hover:text-purple-700"><%= event.name %></td>
          <td class="px-10 py-6 text-gray-700"><%= event.place %></td>
          <td class="px-10 py-6 text-gray-700"><%= event.date.strftime("%d-%m-%Y %H:%M") %></td>
          <td class="px-10 py-6">
            <span class="inline-block bg-purple-100 text-purple-700 text-xs font-semibold px-3 py-1 rounded shadow-sm">
              <%= Event.categories[event.category] %>
            </span>
          </td>
          <td class="px-10 py-6">
            <% if event.past? %>
              <span class="inline-block bg-yellow-100 text-yellow-800 text-xs font-semibold px-3 py-1 rounded shadow-sm"><%= t("events.list_component.past") %></span>
            <% else %>
              <span class="inline-block bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded shadow-sm"><%= t("events.list_component.active") %></span>
            <% end %>
          </td>
          <td class="px-10 py-6">
            <div class="flex flex-row gap-2">
              <%= link_to event_path(event),
                class: "flex items-center justify-center w-9 h-9 rounded-full bg-purple-50 hover:bg-purple-100 text-purple-700 transition",
                title: t("events.list_component.details") do %>
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                </svg>
              <% end %>
              <% if current_user&.admin? %>
                <% unless event.past? %>
                  <%= link_to edit_event_path(event),
                    class: "flex items-center justify-center w-9 h-9 rounded-full bg-yellow-50 hover:bg-yellow-100 text-yellow-700 transition",
                    title: t("events.list_component.edit") do %>
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.862 3.487a2.25 2.25 0 113.182 3.182L7.125 19.586a2.25 2.25 0 01-1.06.592l-4.125 1.031 1.03-4.125a2.25 2.25 0 01.593-1.06L16.862 3.487z" />
                    </svg>
                  <% end %>
                <% else %>
                  <span class="flex items-center justify-center w-9 h-9 rounded-full bg-gray-50 text-gray-400 cursor-not-allowed" title="<%= t("events.list_component.edit") %>">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.862 3.487a2.25 2.25 0 113.182 3.182L7.125 19.586a2.25 2.25 0 01-1.06.592l-4.125 1.031 1.03-4.125a2.25 2.25 0 01.593-1.06L16.862 3.487z" />
                    </svg>
                  </span>
                <% end %>
                <%= link_to event_path(event),
                  data: { turbo_method: :delete, turbo_confirm: t("events.list_component.confirm_delete") },
                  class: "flex items-center justify-center w-9 h-9 rounded-full bg-red-50 hover:bg-red-100 text-red-600 transition",
                  title: t("events.list_component.delete") do %>
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                <% end %>
              <% end %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
