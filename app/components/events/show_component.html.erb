<div class="container mx-auto max-w-4xl py-10">
  <div class="bg-white rounded-2xl shadow-xl flex flex-col md:flex-row overflow-hidden">
    <div class="md:w-1/2 flex items-center justify-center bg-purple-50 p-8">
      <% if event.image.attached? %>
        <%= image_tag url_for(event.image), alt: event.name, class: "rounded-2xl object-cover w-full h-[340px] md:h-[420px] max-w-[420px] shadow-lg" %>
      <% else %>
        <img src="https://placehold.co/600x420/7957d5/FFFFFF?text=<%= event.category.capitalize %>" alt="<%= event.name %>" class="rounded-2xl object-cover w-full h-[340px] md:h-[420px] max-w-[420px] shadow-lg">
      <% end %>
    </div>
    <div class="md:w-1/2 p-8 flex flex-col">
      <h1 class="text-3xl font-extrabold text-purple-800 mb-2"><%= event.name %></h1>
      <p class="text-lg text-gray-500 mb-6"><%= t("events.show.details") %></p>
      <div class="space-y-2 mb-6">
        <p><span class="font-semibold text-gray-700"><%= t("events.show.description") %>:</span> <%= event.description %></p>
        <p><span class="font-semibold text-gray-700"><%= t("events.show.place") %>:</span> <%= event.place %></p>
        <p><span class="font-semibold text-gray-700"><%= t("events.show.date") %>:</span> <%= event.date.strftime("%d-%m-%Y %H:%M") %></p>
        <p><span class="font-semibold text-gray-700"><%= t("events.show.category") %>:</span> <%= Event.categories[event.category] %></p>
      </div>
      <div class="flex flex-wrap gap-3 mb-8">
        <% if current_user&.admin? %>
          <% unless event.past? %>
            <%= link_to t("events.show.edit"), edit_event_path(event), class: "px-4 py-2 rounded bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-semibold transition" %>
          <% end %>
          <%= link_to t("events.show.delete"), event_path(event), method: :delete, data: { confirm: t("events.show.confirm_delete") }, class: "px-4 py-2 rounded bg-red-100 hover:bg-red-200 text-red-700 font-semibold transition" %>
        <% end %>
        <%= link_to t("events.show.back"), events_path, class: "px-4 py-2 rounded bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold transition" %>
      </div>
    </div>
  </div>
  <div class="mt-10">
    <%= render Events::TicketBatchesComponent.new(event: event, current_user: current_user) %>
  </div>
</div>