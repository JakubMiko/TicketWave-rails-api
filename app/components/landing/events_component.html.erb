<section id="events" class="py-16">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold text-center mb-10 text-purple-800">
      <%= t("landing.events.upcoming_events") %>
    </h2>

    <div class="flex flex-wrap -mx-4">
      <% events.each do |event| %>
        <div class="w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
          <div class="bg-white rounded-xl shadow-lg flex flex-col h-full">
            <div class="aspect-w-4 aspect-h-3 rounded-t-xl overflow-hidden">
              <% if event.image.attached? %>
                <%= image_tag url_for(event.image), alt: event.name, class: "object-cover w-full h-full" %>
              <% else %>
                <img src="https://placehold.co/400x300/7957d5/FFFFFF?text=<%= event.category.capitalize %>" alt="<%= event.name %>" class="object-cover w-full h-full">
              <% end %>
            </div>
            <div class="p-6 flex-1 flex flex-col">
              <p class="text-xl font-semibold mb-2"><%= event.name %></p>
              <p class="text-sm text-gray-500 mb-4"><%= event.date.strftime("%d %B %Y â€¢ %H:%M") %></p>
              <div class="text-gray-700 mb-4 flex-1">
                <%= truncate(event.description, length: 150) %>
              </div>
              <div class="mt-auto">
                <%= link_to t("landing.events.details"), event_path(event), class: "inline-block text-purple-700 font-semibold hover:underline" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <div class="text-center mt-10">
      <%= link_to t("landing.events.see_all"), events_path, class: "inline-block bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-purple-800 transition-all duration-200" %>
    </div>
  </div>
</section>